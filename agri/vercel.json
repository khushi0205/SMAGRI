DEV Community
Create account

3
Jump to Comments
6
Save

Cover image for How to Deploy a Django web App on Vercel (For Free).
keshav Sharma
keshav Sharma
Posted on Aug 28, 2022


8

1
How to Deploy a Django web App on Vercel (For Free).
#
django
#
webdev
#
tutorial
#
beginners
Hello forks ! üòÅ
Now that Heroku is terminating its free tier, Django developers need an alternative to deploy their Django / DRF web App to get it live !

In this post, I am going to show you how you can deploy your Django or Django rest framework project on Vercel in 7 easy steps.

Prerequisites:
You Already have a working Django Project.
You already have created a vercel account.
You already have a requirements.txt file
  django
  djangorestframework
Vercel does not provide support for dbsqlite3 currently, if you try to deploy your project with Django's default dbsqlite3 database then it's going to lead to an error. Ensure to comment out your dbsqlite database configuration or switch to a different database (e.g. PostgreSQL).
Alright, let's dive in !!

Step 1
In your projects root directory create a new file and name it build_files.sh then paste the code below inside it
# build_files.sh
pip install -r requirements.txt
python3.9 manage.py collectstatic --noinput
This file contains commands we want to run at build time on vercel

"pip install -r requirements.txt" ensures that all our installed packages declared in our requirements.txt file are downloaded and installed on the vercel server.

"python3.9 manage.py collectstatic --noinput" ensures that our static files are served on our server (ensure to add this line of code even if your static files are being served from an external website because our admin page contains some static files).

Step 2
In your projects root directory create a new JSON file and name it vercel.json then paste the code below inside it
{
  "version": 2,
  "builds": [
    {
      "src": "agri/wsgi.py",
      "use": "@vercel/python",
      "config": { "maxLambdaSize": "15mb", "runtime": "python3.9" }
    },
    {
      "src": "build_files.sh",
      "use": "@vercel/static-build",
      "config": {
        "distDir": "staticfiles"
      }
    }
  ],
  "routes": [
    {
      "src": "/static/(.*)",
      "dest": "/static/$1"
    },
    {
      "src": "/(.*)",
      "dest": "agri/wsgi.py"
    }
  ]
}